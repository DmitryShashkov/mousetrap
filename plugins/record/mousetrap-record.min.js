!function(n){var t=[],e=null,r=[],i=!1,o=null,l=n.prototype.handleKey;function u(n){var t;for(t=0;t<r.length;++t)if(r[t]===n)return;r.push(n),1===n.length&&(i=!0)}function h(){t.push(r),i=!(r=[]),clearTimeout(o),o=setTimeout(p,1e3)}function p(){e&&(function(n){var t;for(t=0;t<n.length;++t)n[t].sort(function(n,t){return!(1<n.length&&1===t.length)&&(1===n.length&&1<t.length||t<n)?1:-1}),n[t]=n[t].join("+")}(t),e(t)),t=[],e=null,r=[]}n.prototype.record=function(n){var t=this;t.recording=!0,e=function(){t.recording=!1,n.apply(t,arguments)}},n.prototype.handleKey=function(){(function(n,t,e){var o;if(this.recording)if("keydown"===e.type){for(1===n.length&&i&&h(),o=0;o<t.length;++o)u(t[o]);u(n)}else"keyup"===e.type&&0<r.length&&h();else l.apply(this,arguments)}).apply(this,arguments)},n.init()}(Mousetrap);
